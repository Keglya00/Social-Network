"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[392],{392:(s,e,a)=>{a.r(e),a.d(e,{default:()=>E});var l=a(163),_=a(420),d=a(791);const i="Dialogs_dialogs__QWDer",m="Dialogs_dialogs__chats__Opjc5",g="Dialogs_dialogs__messages__AeTPA",n="Dialogs_message__CirTE",t="Dialogs_mymessage__Y9tf2",c="Dialogs_dialogs__addMessages_textarea__AG7mQ",r="Dialogs_dialogs__messages_addMessage__E+qYV",o="Dialogs_dialogs__addMessages_button__oMR8J",h="Chat_chat__pSHfW";var u=a(87),j=a(184);const x=s=>(0,j.jsx)(u.OL,{to:"/dialogs/".concat(s.userid),className:h,children:s.username}),p="Message_message__ZY+wS",N="Message_message__inner__YllRJ",M="Message_message__photo__cv1PH",D="Message_message__name__-kunO",v="Message_mymessage__inner__nYWNE",C=s=>(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("img",{className:M,src:s.photo}),(0,j.jsxs)("div",{className:N,children:[(0,j.jsx)("div",{className:D,children:s.userName}),s.message]})]}),b=s=>(0,j.jsx)("div",{className:v,children:s.message});var f=a(759),y=a(610);const W=s=>(0,j.jsx)(f.l0,{onSubmit:e=>{s.addMessage(e.newMessageBody)},children:s=>{let{handleSubmit:e,form:a}=s;return(0,j.jsxs)("form",{onSubmit:e,className:r,children:[(0,j.jsx)(f.gN,{validate:y.C,placeholder:"Enter your message",component:"textarea",name:"newMessageBody",className:c}),(0,j.jsx)("button",{disabled:!1,onClick:()=>{e(),a.reset()},className:o})]})}}),k=s=>{(0,d.useEffect)((()=>(s.startWsChannel(),()=>{s.stopWsChannel()})),[]);let e=s.chatsData.map((s=>(0,j.jsx)("li",{children:(0,j.jsx)(x,{username:s.username,userid:s.userid})}))),a=s.messagesData.map((e=>e.userId===s.id?(0,j.jsx)("div",{className:t,children:(0,j.jsx)(b,{message:e.message})}):(0,j.jsx)("div",{className:n,children:(0,j.jsx)(C,{message:e.message,photo:e.photo,userName:e.userName})})));return(0,j.jsxs)("div",{className:i,children:[(0,j.jsx)("ul",{className:m,children:e}),(0,j.jsxs)("div",{className:g,children:[a,(0,j.jsx)(W,{addMessage:e=>{e&&s.sendMessage(e)}})]})]})};var w=a(932);const E=(0,a(154).qC)((0,_.$j)((s=>({chatsData:s.dialogsReducer.chatsData,messagesData:s.dialogsReducer.messagesData,id:s.authReducer.data.id})),{addMessage:l.Hz,startWsChannel:l.ig,stopWsChannel:l.FU,sendMessage:l.bG}),w.l)(k)}}]);
//# sourceMappingURL=392.6ac1d2b9.chunk.js.map