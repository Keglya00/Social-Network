"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[142],{142:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var n=s(791),o=s(420),r=s(946);const i="Users_users__item__U8VJj",a="Users_users__OOLS8",l="Users_users__button__yQhzf";var u=s(87);const c={user:"User_user__U-f1w",user__noavatar:"User_user__noavatar__7tRNX",user__avatar:"User_user__avatar__x7wz1",user__description:"User_user__description__MO1W3",user__description_status:"User_user__description_status__Dtyvc"};var p=s(184);const d=e=>(0,p.jsxs)("div",{className:c.user,children:[(0,p.jsx)(u.OL,{to:"/profile/"+e.id,children:null===e.avatar?(0,p.jsx)("div",{className:c.user__noavatar,children:"ava"}):(0,p.jsx)("img",{className:c.user__avatar,src:e.avatar})}),(0,p.jsxs)("div",{className:c.user__description,children:[(0,p.jsx)("div",{className:c.user__description_name,children:e.name}),(0,p.jsx)("div",{className:c.user__description_status,children:null===e.status?(0,p.jsx)("div",{children:"No status"}):e.status})]})]}),h="Paginator_page_active__2JAMY",f="Paginator_page__RJwDp",g=e=>{let t=[];for(let n=1;n<=e.pagesCount;n++)t.push(n);let[s,o]=(0,n.useState)(1),r=(s-1)*e.portionSize+1,i=s*e.portionSize;return(0,p.jsxs)("div",{children:[s>1&&(0,p.jsx)("button",{onClick:()=>o(s-1),children:"prev"}),t.filter((e=>e>=r&&e<=i)).map((t=>(0,p.jsx)("span",{onClick:()=>{e.onPageChanged(t)},className:e.currentPage===t?h:f,children:t}))),e.portionsCount>s&&(0,p.jsx)("button",{onClick:()=>o(s+1),children:"next"})]})},_=e=>{let t=e.usersData.map((t=>(0,p.jsxs)("li",{className:i,children:[(0,p.jsx)(d,{id:t.id,name:t.name,status:t.status,avatar:t.photos.small},t.id),t.followed?(0,p.jsx)("button",{className:l,disabled:e.followingInProgress.some((e=>e===t.id)),onClick:()=>{e.onUserUnfollow(t.id)},children:"unfollow"}):(0,p.jsx)("button",{className:l,disabled:e.followingInProgress.some((e=>e===t.id)),onClick:()=>{e.onUserFollow(t.id)},children:"follow"})]})));return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:a,children:t}),(0,p.jsx)("div",{children:(0,p.jsx)(g,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:e.portionSize,portionsCount:e.portionsCount,pagesCount:e.pagesCount})})]})};var v=s(821);function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var y=e=>Array.isArray(e)?e:[e];function w(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const s=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(s,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var C="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},j=0,x=1;function U(){return{s:j,v:void 0,o:null,p:null}}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=U();const{resultEqualityCheck:n}=t;let o,r=0;function i(){let t=s;const{length:i}=arguments;for(let e=0,s=i;e<s;e++){const s=arguments[e];if("function"===typeof s||"object"===typeof s&&null!==s){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(s);void 0===n?(t=U(),e.set(s,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(s);void 0===n?(t=U(),e.set(s,t)):t=n}}const a=t;let l;if(t.s===x?l=t.v:(l=e.apply(null,arguments),r++),a.s=x,n){var u,c,p;const e=null!==(u=null===(c=o)||void 0===c||null===(p=c.deref)||void 0===p?void 0:p.call(c))&&void 0!==u?u:o;null!=e&&n(e,l)&&(l=e,0!==r&&r--);o="object"===typeof l&&null!==l||"function"===typeof l?new C(l):l}return a.v=l,l}return i.clearCache=()=>{s=U(),i.resetResultsCount()},i.resultsCount=()=>r,i.resetResultsCount=()=>{r=0},i}function P(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];const o="function"===typeof e?{memoize:e,memoizeOptions:s}:e,r=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];let n,r=0,i=0,a={},l=t.pop();"object"===typeof l&&(a=l,l=t.pop()),m(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const u={...o,...a},{memoize:c,memoizeOptions:p=[],argsMemoize:d=b,argsMemoizeOptions:h=[],devModeChecks:f={}}=u,g=y(p),_=y(h),v=w(t),C=c((function(){return r++,l.apply(null,arguments)}),...g);const j=d((function(){i++;const e=function(e,t){const s=[],{length:n}=e;for(let o=0;o<n;o++)s.push(e[o].apply(null,t));return s}(v,arguments);return n=C.apply(null,e),n}),..._);return Object.assign(j,{resultFunc:l,memoizedResultFunc:C,dependencies:v,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>n,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:c,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var k=P(b),z=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const s=Object.keys(e),n=t(s.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t,n)=>(e[s[n]]=t,e)),{})}));return n}),{withTypes:()=>z});const S=e=>e.usersReducer.usersData,R=e=>e.usersReducer.pageSize,O=k(R,(e=>e.usersReducer.totalUsersCount),((e,t)=>Math.ceil(t/e))),N=e=>e.usersReducer.portionSize,F=k(N,O,((e,t)=>Math.ceil(t/e))),T=e=>e.usersReducer.currentPage,M=e=>e.usersReducer.isFetching,D=e=>e.usersReducer.followingInProgress;class A extends n.PureComponent{constructor(){super(...arguments),this.onPageChanged=e=>{this.props.setCurrentPage(e),this.props.getUsersThunkCreator(e,this.props.pageSize)},this.onUserFollow=e=>{this.props.followThunkCreator(e)},this.onUserUnfollow=e=>{this.props.unfollowThunkCreator(e)}}componentDidMount(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}render(){return(0,p.jsxs)(p.Fragment,{children:[this.props.isFetching?(0,p.jsx)(v.Z,{}):null,(0,p.jsx)(_,{pagesCount:this.props.pagesCount,currentPage:this.props.currentPage,usersData:this.props.usersData,onUserFollow:this.onUserFollow,onUserUnfollow:this.onUserUnfollow,isFetching:this.props.isFetching,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,portionsCount:this.props.portionsCount,portionSize:this.props.portionSize})]})}}const I=(0,o.$j)((e=>({usersData:S(e),pagesCount:O(e),pageSize:R(e),currentPage:T(e),isFetching:M(e),followingInProgress:D(e),portionsCount:F(e),portionSize:N(e)})),{getUsersThunkCreator:r.Uk,unfollowThunkCreator:r.Ow,followThunkCreator:r.AC,setCurrentPage:r.D4})(A)}}]);
//# sourceMappingURL=142.b0d751d4.chunk.js.map